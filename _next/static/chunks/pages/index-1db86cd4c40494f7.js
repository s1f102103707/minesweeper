(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(85)}])},85:function(e,t,l){"use strict";l.r(t);var o=l(5893),n=l(7294),a=l(2729),s=l.n(a);let r=()=>{let[e,t]=(0,n.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[l,a]=(0,n.useState)(0),[r,c]=(0,n.useState)(!1),i=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],[_,f]=(0,n.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),d=JSON.parse(JSON.stringify(e)),u=JSON.parse(JSON.stringify(_)),m=(e,t)=>{let l=0;for(let[o,n]of i){let a=e+o,s=t+n;a>=0&&a<9&&s>=0&&s<9&&1===_[s][a]&&l++}return l},b=(e,t)=>{if(x[t][e]=m(e,t),0===m(e,t))for(let[l,o]of i){let n=e+l,a=t+o;n>=0&&n<9&&a>=0&&a<9&&-1===x[a][n]&&b(n,a)}},x=[[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]],N=()=>{for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===_[e][t]&&(x[e][t]=11)};for(let t=0;t<9;t++)for(let l=0;l<9;l++)1===e[t][l]?1===_[t][l]?(x[t][l]=11,N()):b(l,t):2===e[t][l]?x[t][l]=9:3===e[t][l]&&(x[t][l]=10);console.log("bombMap"),console.table(_),console.log("board"),console.table(x);let h=(l,o,n)=>{if(l.preventDefault(),11===x[n][o]||10===x[n][o]||9===x[n][o]||-1===x[n][o]){switch(e[n][o]){case 0:d[n][o]=2,x[n][o]=9;break;case 1:break;case 2:d[n][o]=3,x[n][o]=10;break;case 3:d[n][o]=0,x[n][o]=-1}t(d)}},p=0===e.flat().filter(e=>1===e).length,v=e.some((e,t)=>e.some((e,l)=>1===e&&1===_[t][l]));(0,n.useEffect)(()=>{let e;return r?e=setInterval(()=>{a(e=>e+1)},1e3):clearInterval(e),v&&clearInterval(e),()=>{clearInterval(e)}},[r,v]);let g=(e,l)=>{if(console.log(e,l),d[l][e]=1,t(d),r||c(!0),p){for(let t=0;t<10;t++){let t=!1;for(;!t;){let o=Math.floor(9*Math.random()),n=Math.floor(9*Math.random());0!==u[o][n]||n===e&&o===l||(u[o][n]=1,t=!0)}}console.log("newbombmap"),console.table(u),f(u)}},k=()=>{for(let e=0;e<9;e++)for(let t=0;t<9;t++)d[e][t]=0,u[e][t]=0,x[e][t]=-1;t(d),f(u)};return(0,o.jsxs)("div",{className:s().container,children:[(0,o.jsx)("button",{className:s().smile,style:{backgroundPositionX:-330},onClick:()=>k()}),(0,o.jsx)("div",{className:s().timer,children:l.toString().padStart(2,"0")}),(0,o.jsx)("div",{className:s().board,children:x.map((e,t)=>e.map((e,l)=>(0,o.jsxs)("div",{className:s().cell,onClick:()=>g(l,t),onContextMenu:e=>h(e,l,t),children:[11===e&&(0,o.jsx)("div",{className:s().bom}),-1===e&&(0,o.jsx)("div",{className:s().cell1}),e>0&&e<11&&(0,o.jsx)("div",{className:s().icon,style:{backgroundPositionX:-(30*e)+30}})]},"".concat(l,"-").concat(t))))})]})};t.default=r},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe",cell:"index_cell__3W8ZQ",icon:"index_icon__Noc_h",bom:"index_bom__ERRzB",cell1:"index_cell1__SO9xL",smile:"index_smile__Vibwt",timer:"index_timer__azvpY"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);