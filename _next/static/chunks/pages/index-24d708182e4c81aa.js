(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(85)}])},85:function(e,l,t){"use strict";t.r(l);var o=t(5893),n=t(7294),a=t(2729),s=t.n(a);let r=()=>{let[e,l]=(0,n.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[t,a]=(0,n.useState)(0),[r,c]=(0,n.useState)(!1),i=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],[_,f]=(0,n.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),d=JSON.parse(JSON.stringify(e)),u=JSON.parse(JSON.stringify(_)),m=(e,l)=>{let t=0;for(let[o,n]of i){let a=e+o,s=l+n;a>=0&&a<9&&s>=0&&s<9&&1===_[s][a]&&t++}return t},b=(e,l)=>{if(x[l][e]=m(e,l),0===m(e,l))for(let[t,o]of i){let n=e+t,a=l+o;n>=0&&n<9&&a>=0&&a<9&&-1===x[a][n]&&b(n,a)}},x=[[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]],N=()=>{for(let e=0;e<9;e++)for(let l=0;l<9;l++)1===_[e][l]&&(x[e][l]=11)};for(let l=0;l<9;l++)for(let t=0;t<9;t++)1===e[l][t]?1===_[l][t]?(x[l][t]=11,N()):b(t,l):2===e[l][t]?x[l][t]=9:3===e[l][t]&&(x[l][t]=10);console.log("bombMap"),console.table(_),console.log("board"),console.table(x);let h=(t,o,n)=>{if(t.preventDefault(),11===x[n][o]||10===x[n][o]||9===x[n][o]||-1===x[n][o]){switch(e[n][o]){case 0:d[n][o]=2,x[n][o]=9;break;case 1:break;case 2:d[n][o]=3,x[n][o]=10;break;case 3:d[n][o]=0,x[n][o]=-1}l(d)}},v=0===e.flat().filter(e=>1===e).length,p=e.some((e,l)=>e.some((e,t)=>1===e&&1===_[l][t]));(0,n.useEffect)(()=>{let e;return r?e=setInterval(()=>{a(e=>e+1)},1e3):clearInterval(e),p&&clearInterval(e),()=>{clearInterval(e)}},[r,p]);let k=(e,t)=>{if(console.log(e,t),d[t][e]=1,l(d),r||c(!0),v){for(let l=0;l<10;l++){let l=!1;for(;!l;){let o=Math.floor(9*Math.random()),n=Math.floor(9*Math.random());0!==u[o][n]||n===e&&o===t||(u[o][n]=1,l=!0)}}console.log("newbombmap"),console.table(u),f(u)}},g=()=>{for(let e=0;e<9;e++)for(let l=0;l<9;l++)d[e][l]=0,u[e][l]=0,x[e][l]=-1;l(d),f(u)};return(0,o.jsxs)("div",{className:s().container,children:[(0,o.jsx)("button",{className:s().smile,style:{backgroundPositionX:-330},onClick:()=>g()}),(0,o.jsx)("div",{className:s().timer,children:t}),(0,o.jsx)("div",{className:s().board,children:x.map((e,l)=>e.map((e,t)=>(0,o.jsxs)("div",{className:s().cell,onClick:()=>k(t,l),onContextMenu:e=>h(e,t,l),children:[11===e&&(0,o.jsx)("div",{className:s().bom}),-1===e&&(0,o.jsx)("div",{className:s().cell1}),e>0&&e<11&&(0,o.jsx)("div",{className:s().icon,style:{backgroundPositionX:-(30*e)+30}})]},"".concat(t,"-").concat(l))))})]})};l.default=r},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe",cell:"index_cell__3W8ZQ",icon:"index_icon__Noc_h",bom:"index_bom__ERRzB",cell1:"index_cell1__SO9xL",smile:"index_smile__Vibwt",timer:"index_timer__azvpY"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);